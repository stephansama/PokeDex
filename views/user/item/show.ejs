<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../../components/header.ejs') %>
    <link rel="stylesheet" href="/static/css/show.css">
    <script src="/static/js/chart.min.js"></script>
    <title>Pok√©Dex | <%=pokemon.NAME %></title>
</head>
<body>
    <%- include('../../components/title.ejs') %> 
    <div id="pokedex">
        <div id="showtitle">
            <%- include('../../components/backbutton.ejs') %> 
            <div id="subtitle">#<%=pokemon.POKEID%> <%= pokemon.NAME %></div>
            <a id="link" href="/usr/<%=id %>/<%=pokemon.POKEID %>/edit">EDIT</a>
        </div>
        <div id="pokeinfo">
            <div id="showimage">
                <img src="<%= pokemon.IMGURL%>" alt="<%=pokemon.NAME%>">
            </div>
            <div id="right">
                <!-- TYPE TABLE -->
                <table>
                    <tr>
                        <td>TYPE 1</td>
                        <td class="<%=pokemon.TYPE[0]%>"></td>
                        <td>TYPE 2</td>
                        <td class="<%=pokemon.TYPE[1]%>"><%= pokemon.TYPE[1] === 'undefined' ? '----': ''%></td>
                    </tr>
                </table>
                <!-- Chart.JS Chart -->
                <div id="chartcontainer">
                    <canvas id="pokechart"></canvas>
                </div>
            </div>
        </div>
    </div>
    <%- include('../../components/footer.ejs') %> 
</body>
<script src="/static/js/charts.js"></script>
<script>
    document.onkeydown = (k) =>{
        if(k.code === 'Backspace'){
            window.location.href = '/usr/<%=id %>/dashboard'
        }
    }

    createChart({
        HP: parseInt(`<%=pokemon.STATS.HP%>`),
        ATK: parseInt(`<%=pokemon.STATS.ATK%>`),
        DEF: parseInt(`<%=pokemon.STATS.DEF%>`),
        SPATK: parseInt(`<%=pokemon.STATS.SPATK%>`),
        SPDEF: parseInt(`<%=pokemon.STATS.SPDEF%>`),
        SPEED: parseInt(`<%=pokemon.STATS.SPEED%>`),
    });
</script>
</html>